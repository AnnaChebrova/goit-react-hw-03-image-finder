{"version":3,"sources":["components/styles.module.css","components/Searchbar.js","components/Button.js","components/ImageGallery.js","components/ImageGalleryItem.js","components/Modal.js","components/Loader.js","components/ApiService.js","App.js","index.js"],"names":["module","exports","Searchbar","state","searchQuery","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","styles","this","SearchForm","type","SearchFormButton","SearchFormBtnLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","React","Component","Button","onClick","ImageGallery","children","ImageGalleryItem","src","alt","url","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","ModalContent","GalleryLoader","color","height","width","timeout","axios","defaults","baseURL","api","fetchImages","currentPage","get","then","response","data","hits","App","images","currentPageImages","isLoading","error","largeImage","showModal","modalUrl","modalAlt","toggleModal","handleFormSubmit","options","loading","ImagesApi","prevState","length","catch","message","finally","onClickImageGalleryItem","getAttribute","scrollWindow","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","renderLoadMoreButton","map","id","tags","webformatURL","largeImageURL","Loader","name","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.64fb71f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__1X_52\",\"Searchbar\":\"styles_Searchbar__1oabO\",\"SearchForm\":\"styles_SearchForm__3iHwX\",\"SearchFormButton\":\"styles_SearchFormButton__3ITso\",\"SearchFormBtnLabel\":\"styles_SearchFormBtnLabel__1BfM3\",\"SearchFormInput\":\"styles_SearchFormInput__2i35-\",\"SearchForm-input\":\"styles_SearchForm-input__Qtri1\",\"ImageGallery\":\"styles_ImageGallery__7AWVP\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__3K9gf\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__12SZh\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__28r3K\",\"Overlay\":\"styles_Overlay__3LiIH\",\"Modal\":\"styles_Modal__faJwT\",\"Button\":\"styles_Button__Y69-a\",\"ModalContent\":\"styles_ModalContent__2HWkY\"};","import React from 'react';\r\nimport styles from './styles.module.css';\r\n\r\nclass Searchbar extends React.Component {\r\n    state = {\r\n        searchQuery: '',\r\n        };\r\n\r\n    handleNameChange = (e) => {\r\n        this.setState({ searchQuery: e.currentTarget.value.toLowerCase()});\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.searchQuery);\r\n        this.setState({ searchQuery: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n          <header className={styles.Searchbar} onSubmit={this.handleSubmit}>\r\n          <form className={styles.SearchForm}>\r\n            <button type=\"submit\" className={styles.SearchFormButton}>\r\n              <span className={styles.SearchFormBtnLabel}>Search</span>\r\n            </button>\r\n\r\n              <input\r\n                className={styles.SearchFormInput}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                value={this.state.searchQuery}\r\n               onChange={this.handleNameChange}\r\n              />\r\n          </form>\r\n            </header>\r\n      );\r\n    }\r\n};\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles.module.css';\r\n\r\nclass Button extends React.Component {\r\n    render() {\r\n    return (\r\n        <button type=\"button\" className={styles.Button} onClick={this.props.onClick}>\r\n            Load more\r\n        </button>\r\n    )}\r\n};\r\n\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\nexport default Button;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles.module.css';\r\n\r\nconst ImageGallery = ({ children }) => (\r\n  <ul className={styles.ImageGallery}>{children}</ul>\r\n);\r\n\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './styles.module.css';\r\n\r\nconst ImageGalleryItem = ({onClick, src, alt, url}) => (\r\n  \r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      onClick={onClick}\r\n      src={src}\r\n      alt={alt}\r\n      className={styles.ImageGalleryItemImage}\r\n      url={url}\r\n    />\r\n  </li>\r\n);\r\n\r\n\r\nImageGalleryItem.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './styles.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends React.Component {\r\n\r\n    componentDidMount() {\r\n     window.addEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n    handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n    this.props.onClose();\r\n    }\r\n    return;\r\n  };\r\n    \r\n    handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n    return;\r\n    };\r\n\r\n  render() {\r\n       const { src, alt } = this.props;\r\n        return createPortal (\r\n          <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={styles.ModalContent}>\r\n              <img src={src} alt={alt} />\r\n            </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst GalleryLoader = () => (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  \r\nexport default GalleryLoader;\r\n","import axios from 'axios';\r\n\r\nconst KEY = '21945016-35782941565d1dfa523c4c56b';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst fetchImages = ({searchQuery='', currentPage=1}) => {\r\n  return axios\r\n    .get(\r\n      `?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nconst api = {\r\n    fetchImages\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport Searchbar from './components/Searchbar';\r\nimport Button from './components/Button';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem';\r\nimport Modal from './components/Modal';\r\nimport Loader from './components/Loader'\r\nimport ImagesApi from './components/ApiService';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    images: [],\r\n    currentPage: 1,\r\n    currentPageImages: [],\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    error: null,\r\n    largeImage: '',\r\n    showModal: false,\r\n    modalUrl: '',\r\n    modalAlt: '',\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n    if (prevState.currentPage > 2) {\r\n      this.scrollWindow();\r\n    }\r\n  }\r\n  \r\n  toggleModal = () => {\r\n    this.setState(({showModal}) => ({\r\n      showModal: !showModal\r\n    }))\r\n  }\r\n\r\n  handleFormSubmit = (searchQuery) => {\r\n    this.setState({\r\n      searchQuery: searchQuery,\r\n      currentPage: 1, \r\n      images: [], \r\n      error: null, \r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, currentPage } = this.state;\r\n    const options = { searchQuery, currentPage };\r\n\r\n    this.setState({ loading: true });\r\n\r\n    ImagesApi.fetchImages(options)\r\n      .then(images => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          currentPage: prevState.currentPage + 1,\r\n          currentPageImages: [...images],\r\n        }));\r\n        if (images.length === 0) {\r\n          this.setState({\r\n            error: 'Nothing was find',\r\n          });\r\n        }\r\n      })\r\n      .catch(error => this.setState({ error: error.message }))\r\n      .finally(() => {\r\n        \r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  onClickImageGalleryItem = (e) => {\r\n    this.setState({\r\n      modalUrl: e.currentTarget.getAttribute('url'),\r\n      modalAlt: e.currentTarget.getAttribute('alt'),\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n    scrollWindow = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { images, searchQuery, currentPageImages, isLoading, error, showModal, modalAlt, modalUrl } = this.state;\r\n    const renderLoadMoreButton = !(currentPageImages.length < 12) && !isLoading;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        {error && (\r\n          <p> something went wrong ... {error} </p>\r\n        )}\r\n        <ImageGallery>\r\n          {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n            <ImageGalleryItem key={id} alt={tags} src={webformatURL} url={largeImageURL} onClick={this.onClickImageGalleryItem} />\r\n          ))}\r\n        </ImageGallery>\r\n        {isLoading && <Loader name={searchQuery}/>}\r\n        \r\n         { renderLoadMoreButton && \r\n          <Button onClick={this.fetchImages} />}\r\n        \r\n        {showModal &&\r\n          (<Modal onClose={this.toggleModal}\r\n            src={modalUrl} alt={modalAlt}>\r\n          <button type=\"button\" onClick={this.toggleModal}>\r\n            Close\r\n          </button>\r\n        </Modal>)}\r\n        </>\r\n  )\r\n  }\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}